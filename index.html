<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RH Store - Luxury Men Watch</title>
    <link rel="icon" type="image/png" href="favicon.png">

    <!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '869329419369412');
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=869329419369412&ev=PageView&noscript=1"
/></noscript>
<!-- End Meta Pixel Code -->
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Custom Styles -->
    <style>
        /* Custom scrollbar hide utility */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        
        /* Slow pulse animation */
        @keyframes pulse-slow {
            0%, 100% { opacity: 1; }
            50% { opacity: .8; }
        }
        .animate-pulse-slow {
            animation: pulse-slow 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        /* Smooth transitions for images */
        .transition-transform {
            transition-property: transform;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 500ms;
        }

        /* Modal Styles */
        #contact-modal {
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        #contact-modal.hidden-modal {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }
        #contact-modal.show-modal {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
        }
    </style>
</head>
<body class="bg-white min-h-screen font-sans text-gray-900 flex flex-col">

    <!-- =========================================
         ðŸš€ 1ï¸âƒ£ NAVBAR SECTION
         ========================================= -->
    <header class="font-sans text-gray-800 bg-white sticky top-0 z-50 shadow-md">
        <!-- Main Navbar -->
        <nav class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                
                <!-- LOGO -->
                <div class="flex-shrink-0 flex items-center cursor-pointer">
                    <div class="text-2xl font-extrabold tracking-tight text-gray-900">
                        <span class="text-red-600">RH</span> Store
                    </div>
                </div>

                <!-- Contact Us Button -->
                <div>
                    <button onclick="openContactModal()" class="bg-red-600 text-white px-5 py-2 rounded-full font-bold text-sm hover:bg-red-700 transition flex items-center gap-2 shadow-lg">
                        <i data-lucide="phone" class="w-4 h-4"></i> Contact Us
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- =========================================
         âŒš 2ï¸âƒ£ PRODUCT SECTION
         ========================================= -->
    <div class="container mx-auto px-4 py-6 md:py-10 flex-grow">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12">

            <!-- â¬…ï¸ LEFT SIDE â€” Product Media -->
            <div class="space-y-4">
                <!-- Main Image/Video Viewer -->
                <div id="main-image-container" class="relative h-[350px] md:h-[650px] w-full bg-gray-100 rounded-lg overflow-hidden group border border-gray-200">
                    <!-- Media will be injected here via JS -->
                </div>

                <!-- Thumbnail Slider -->
                <div id="thumbnail-container" class="flex space-x-3 overflow-x-auto pb-2 scrollbar-hide">
                    <!-- Thumbnails generated by JS -->
                </div>
            </div>

            <!-- âž¡ï¸ RIGHT SIDE â€” Product Details -->
            <div class="flex flex-col">
                <div class="mb-4">
                    <h1 id="product-title" class="text-2xl md:text-3xl font-bold text-gray-900 mb-2"></h1>
                </div>

                <div class="mb-6 bg-gray-50 p-4 rounded-lg border border-gray-100">
                    <div class="flex items-end gap-3">
                        <span id="price-current" class="text-3xl font-bold text-red-600"></span>
                        <span id="price-old" class="text-lg text-gray-400 line-through mb-1"></span>
                    </div>
                    <p id="price-save" class="text-green-600 text-sm font-medium mt-1"></p>
                </div>

                <div class="mb-6">
                    <h3 class="font-semibold text-gray-900 mb-2">Key Features:</h3>
                    <ul id="features-list" class="space-y-1"></ul>
                </div>

                <div class="mb-6 space-y-4">
                    <div>
                        <span class="font-semibold text-gray-900 block mb-2">
                            Select Color <span class="text-gray-500 font-normal text-sm">(Max <span id="max-color-count">1</span>):</span> 
                            <span id="selected-color-text" class="text-red-600"></span>
                        </span>
                        <div id="color-options" class="flex gap-3 flex-wrap"></div>
                    </div>
                    <div>
                        <span class="font-semibold text-gray-900 block mb-2">Strap Material:</span>
                        <div id="strap-options" class="flex gap-3"></div>
                    </div>
                </div>

                <div class="flex flex-col sm:flex-row gap-6 mb-8 border-b border-gray-200 pb-8 items-center sm:items-end">
                    <div class="w-full sm:w-auto">
                        <span class="font-semibold block mb-2">Quantity:</span>
                        <div class="flex items-center border border-gray-300 rounded w-fit">
                            <button onclick="updateQuantity('dec')" class="p-3 hover:bg-gray-100 transition"><i data-lucide="minus" class="w-4 h-4"></i></button>
                            <span id="quantity-display" class="px-4 font-bold w-12 text-center">1</span>
                            <button onclick="updateQuantity('inc')" class="p-3 hover:bg-gray-100 transition"><i data-lucide="plus" class="w-4 h-4"></i></button>
                        </div>
                    </div>
                    <div class="flex-grow">
                        <div class="flex items-center text-gray-900 font-bold bg-green-50 px-4 py-3 rounded-lg border border-green-100 w-fit">
                            <i data-lucide="check-circle-2" class="text-green-600 mr-2 w-5 h-5"></i> Cash On Delivery Available
                        </div>
                    </div>
                </div>

                <div class="hidden md:flex gap-4">
                    <button onclick="openWhatsApp()" class="flex-1 bg-green-500 border-2 border-green-500 text-white py-4 rounded-lg font-bold hover:bg-green-600 transition flex justify-center items-center gap-2 text-lg">
                        <i data-lucide="message-circle" class="w-5 h-5"></i> WhatsApp
                    </button>
                    <!-- BUY NOW BUTTON -->
                    <button onclick="buyNow()" class="flex-1 bg-red-600 text-white py-4 rounded-lg font-bold hover:bg-red-700 transition shadow-lg text-lg animate-pulse-slow">
                        Buy Now
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Description & FAQs -->
    <div class="bg-gray-50 border-t border-gray-200 py-12">
        <div class="container mx-auto px-4 max-w-5xl"> 
            <div class="space-y-10">
                <div class="bg-white p-6 md:p-8 rounded-xl shadow-sm">
                    <h2 class="text-xl font-bold mb-4 flex items-center gap-2">
                        Product Description
                        <div class="h-1 w-10 bg-red-600 rounded"></div>
                    </h2>
                    <!-- Detailed Description + Key Features will be injected here -->
                    <div id="product-desc" class="text-gray-600 leading-relaxed mb-4"></div>
                </div>

                <div class="bg-white p-6 md:p-8 rounded-xl shadow-sm">
                    <h2 class="text-xl font-bold mb-4">Frequently Asked Questions</h2>
                    <div id="faq-container" class="space-y-2"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- =========================================
         ðŸ“‹ 3ï¸âƒ£ FOOTER SECTION
         ========================================= -->
    <footer class="bg-gray-900 text-gray-300 pt-12 pb-24 md:pb-6">
        <div class="container mx-auto px-4 grid md:grid-cols-2 gap-8 justify-between">
            <!-- Brand -->
            <div>
                <h3 class="text-2xl font-bold text-white mb-4"><span class="text-red-600">RH</span> Store</h3>
                <p class="text-sm mb-4">Pakistan's #1 Destination for Premium Watches & Mobile Accessories.</p>
                <div class="flex space-x-4">
                    <a href="https://www.facebook.com/share/1G7ApLz9rE/?mibextid=wwXIfr" target="_blank" class="hover:text-blue-500 transition"><i data-lucide="facebook" class="w-5 h-5"></i></a>
                    <a href="https://www.instagram.com/rhstore.pk?igsh=dGM5cHNmMXBrMHpz&utm_source=qr" target="_blank" class="hover:text-pink-500 transition"><i data-lucide="instagram" class="w-5 h-5"></i></a>
                    <a href="https://chat.whatsapp.com/E9mDXWIyNC4AW8pip8wjhv" target="_blank" class="hover:text-green-500 transition"><i data-lucide="message-circle" class="w-5 h-5"></i></a>
                </div>
            </div>

            <!-- Contact -->
            <div class="md:text-right">
                <h4 class="text-white font-bold mb-4">Contact Info</h4>
                <ul class="space-y-2 text-sm md:flex md:flex-col md:items-end">
                    <li class="flex items-center mb-2"><i data-lucide="map-pin" class="mr-2 text-red-600 w-4 h-4"></i> KPK Mansehra</li>
                    <li class="flex items-center mb-2"><i data-lucide="phone" class="mr-2 text-red-600 w-4 h-4"></i> 03415812512</li>
                    <li class="flex items-center"><i data-lucide="clock" class="mr-2 text-red-600 w-4 h-4"></i> Mon - Sat: 11AM - 9PM</li>
                </ul>
            </div>
        </div>
        <div class="border-t border-gray-800 mt-8 pt-6 text-center text-sm">
            <p>&copy; 2024 RH Store. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- Mobile Sticky Bar -->
    <div class="fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 p-3 md:hidden z-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] flex gap-3">
        <button onclick="openWhatsApp()" class="flex-1 bg-green-500 border border-green-600 text-white py-2 rounded font-bold flex flex-col items-center justify-center text-xs">
            <i data-lucide="message-circle" class="mb-1 w-[18px] h-[18px]"></i> WhatsApp
        </button>
        <!-- MOBILE BUY NOW BUTTON -->
        <button onclick="buyNow()" class="flex-[2] bg-red-600 text-white py-2 rounded font-bold text-sm shadow-md animate-pulse-slow">
            BUY NOW - Rs. <span id="mobile-sticky-price"></span>
        </button>
    </div>

    <!-- ðŸ“ž Contact Modal -->
    <div id="contact-modal" class="fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm hidden-modal p-4">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden relative transform transition-all scale-100">
            <!-- Close Button -->
            <button onclick="closeContactModal()" class="absolute top-3 right-3 text-gray-400 hover:text-gray-600 bg-gray-100 rounded-full p-1 transition">
                <i data-lucide="x" class="w-5 h-5"></i>
            </button>
            
            <!-- Header -->
            <div class="bg-red-600 p-6 text-center">
                <div class="bg-white/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 backdrop-blur-sm">
                    <i data-lucide="headset" class="w-8 h-8 text-white"></i>
                </div>
                <h3 class="text-white text-xl font-bold">Contact Support</h3>
                <p class="text-red-100 text-xs mt-1">We are here to help you!</p>
            </div>

            <!-- Content -->
            <div class="p-6 space-y-5">
                <p class="text-center text-sm text-gray-600 mb-4">
                    Kisi bhi sawal, order details ya mazeed maloomat ke liye hum se rabta karein.
                </p>

                <!-- WhatsApp -->
                <a href="https://wa.me/923415812512" target="_blank" class="flex items-center p-3 bg-green-50 border border-green-100 rounded-lg hover:bg-green-100 transition group">
                    <div class="bg-green-500 p-2 rounded-full mr-3 text-white group-hover:scale-110 transition-transform">
                        <i data-lucide="message-circle" class="w-5 h-5"></i>
                    </div>
                    <div>
                        <p class="text-xs text-gray-500 font-medium">WhatsApp</p>
                        <p class="text-gray-900 font-bold text-sm">0341 5812512</p>
                    </div>
                </a>

                <!-- Phone -->
                <a href="tel:03415812512" class="flex items-center p-3 bg-blue-50 border border-blue-100 rounded-lg hover:bg-blue-100 transition group">
                    <div class="bg-blue-500 p-2 rounded-full mr-3 text-white group-hover:scale-110 transition-transform">
                        <i data-lucide="phone" class="w-5 h-5"></i>
                    </div>
                    <div>
                        <p class="text-xs text-gray-500 font-medium">Call Us</p>
                        <p class="text-gray-900 font-bold text-sm">0341 5812512</p>
                    </div>
                </a>

                <!-- Email -->
                <a href="mailto:rajahabibullah2006@gmail.com" class="flex items-center p-3 bg-gray-50 border border-gray-100 rounded-lg hover:bg-gray-100 transition group">
                    <div class="bg-gray-700 p-2 rounded-full mr-3 text-white group-hover:scale-110 transition-transform">
                        <i data-lucide="mail" class="w-5 h-5"></i>
                    </div>
                    <div class="overflow-hidden">
                        <p class="text-xs text-gray-500 font-medium">Email</p>
                        <p class="text-gray-900 font-bold text-xs truncate">rajahabibullah2006@gmail.com</p>
                    </div>
                </a>
            </div>
            
            <!-- Footer -->
            <div class="bg-gray-50 p-4 text-center">
                <button onclick="closeContactModal()" class="text-gray-500 hover:text-gray-800 text-sm font-medium">Close</button>
            </div>
        </div>
    </div>

    <!-- JavaScript Logic -->
    <script>
        // --- DATA ---
        const PRODUCT = {
            id: 101,
            title: "Luxury Rolex-Style Stainless Steel Watch with Day & Date",
            price: 3299,
            oldPrice: 4999,
            discount: 34,
            rating: 4.8,
            reviewCount: 25,
            
            images: [
                "image1.jpeg", 
                "image2.jpeg", 
                "image3.jpeg",
                "image4.jpeg",
                "image5.jpeg",
                "video1.mp4" 
            ],

            features: [
                "Premium Stainless Steel Case",
                "Luxury Two-Tone Stainless Steel Bracelet",
                "Day & Date Function (Fully Working)",
                "High-Quality Quartz Movement"
            ],
            
            variations: {
                colors: ["Golden", "Silver", "Black", "Blue", "Red", "Green"],
                straps: ["Steel"]
            },
            description: `Elevate your wrist game with this stunning Day-Date masterpiece. Designed for those who appreciate timeless elegance, this watch features a premium stainless steel bracelet and a high-quality finish that perfectly complements any outfit, whether formal or casual.
            <br><br>
            The highlight of this timepiece is its fully functional Day and Date display, offering both style and practicality. The dial is adorned with sparkling diamond-style indices, adding a touch of luxury to the iconic fluted bezel design. A perfect choice for daily wear or special occasions.
            <br><br>
            <strong class="text-lg text-gray-900">Key Features:</strong>
            <ul class="list-disc pl-5 mt-2 space-y-2">
                <li><strong class="text-gray-900">Movement:</strong> High-quality machinery with fully Working Day & Date windows.</li>
                <li><strong class="text-gray-900">Design:</strong> Classic luxury design with a solid and comfortable chain.</li>
                <li><strong class="text-gray-900">Dial:</strong> Premium sunburst finish with elegant stone markers.</li>
                <li><strong class="text-gray-900">Durability:</strong> Scratch-resistant glass and durable construction.</li>
                <li><strong class="text-gray-900">Premium Look:</strong> Master quality finish that feels heavy and authentic on the wrist.</li>
            </ul>`,
            
            specs: [
                { label: "Brand", value: "RH Watches" },
                { label: "Model", value: "Royal-X 2024" },
                { label: "Dial Size", value: "42mm" },
                { label: "Movement", value: "Japanese Quartz" },
                { label: "Warranty", value: "1 Year Official" }
            ],
            
            faqs: [
                { 
                    q: "Is Cash on Delivery available?", 
                    a: "Yes, we offer Cash on Delivery service all over Pakistan. You can pay the amount to the rider at your doorstep when you receive your parcel." 
                },
                { 
                    q: "How many days will delivery take?", 
                    a: "We aim to deliver your order as quickly as possible. Usually, delivery takes 3 to 5 working days depending on your city. Major cities often receive orders faster." 
                },
                { 
                    q: "What if I receive a damaged or faulty product?", 
                    a: "Don't worry! We check every watch before shipping. However, if you receive a damaged or defective item, please contact us within 24 hours, and we will replace it for you free of charge." 
                }
            ]
        };

        let state = {
            selectedImageIndex: 0,
            quantity: 1,
            selectedColors: [PRODUCT.variations.colors[0]], 
            selectedStrap: PRODUCT.variations.straps[0],
            openFaqIndex: null
        };

        document.addEventListener('DOMContentLoaded', () => {
            renderStaticData();
            renderImages();
            renderVariations();
            renderFAQ();
            lucide.createIcons();
        });

        // --- BUY NOW LOGIC ---
        function buyNow() {
            if (state.selectedColors.length === 0) {
                state.selectedColors.push(PRODUCT.variations.colors[0]);
            }

            let checkoutImage = PRODUCT.images[state.selectedImageIndex];
            if (checkoutImage.toLowerCase().endsWith('.mp4')) {
                checkoutImage = PRODUCT.images[0]; 
            }

            const orderData = {
                id: PRODUCT.id,
                title: PRODUCT.title,
                price: PRODUCT.price,
                image: checkoutImage, 
                color: state.selectedColors.join(', '), 
                strap: state.selectedStrap,
                quantity: state.quantity
            };
            localStorage.setItem('rh_checkout_data', JSON.stringify(orderData));
            window.location.href = 'CheckoutPage.html'; 
        }

        // --- MODAL LOGIC ---
        function openContactModal() {
            const modal = document.getElementById('contact-modal');
            modal.classList.remove('hidden-modal');
            modal.classList.add('show-modal');
        }

        function closeContactModal() {
            const modal = document.getElementById('contact-modal');
            modal.classList.remove('show-modal');
            modal.classList.add('hidden-modal');
        }

        window.onclick = function(event) {
            const modal = document.getElementById('contact-modal');
            if (event.target == modal) {
                closeContactModal();
            }
        }

        // --- PRODUCT RENDER FUNCTIONS ---
        function renderStaticData() {
            document.getElementById('product-title').textContent = PRODUCT.title;
            document.getElementById('price-current').textContent = `Rs. ${PRODUCT.price.toLocaleString()}`;
            document.getElementById('price-old').textContent = `Rs. ${PRODUCT.oldPrice.toLocaleString()}`;
            document.getElementById('price-save').textContent = `You save RS. ${(PRODUCT.oldPrice - PRODUCT.price).toLocaleString()} today!`;
            document.getElementById('mobile-sticky-price').textContent = PRODUCT.price.toLocaleString();
            
            document.getElementById('product-desc').innerHTML = PRODUCT.description;

            const featuresList = document.getElementById('features-list');
            featuresList.innerHTML = PRODUCT.features.map(f => `
                <li class="flex items-start text-gray-600 text-sm">
                    <i data-lucide="check" class="text-green-500 mr-2 w-4 h-4 mt-1 flex-shrink-0"></i> 
                    <span>${f}</span>
                </li>
            `).join('');
        }

        function renderImages() {
            const mainImgContainer = document.getElementById('main-image-container');
            const currentImg = PRODUCT.images[state.selectedImageIndex];
            
            const isVideo = currentImg.toLowerCase().endsWith('.mp4');
            let mediaContent;

            if (isVideo) {
                mediaContent = `
                    <video src="${currentImg}" class="w-full h-full object-cover" muted autoplay loop playsinline>
                        Your browser does not support the video tag.
                    </video>
                `;
            } else {
                mediaContent = `
                    <img id="main-image" src="${currentImg}" alt="Product View" class="w-full h-full object-cover transition-transform duration-500 hover:scale-125 cursor-zoom-in">
                `;
            }
            
            mainImgContainer.innerHTML = `
                ${mediaContent}
                
                <button onclick="changeImage('prev')" class="absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full shadow hover:bg-white md:opacity-0 group-hover:opacity-100 transition z-10 cursor-pointer">
                    <i data-lucide="chevron-left" class="w-5 h-5"></i>
                </button>
                <button onclick="changeImage('next')" class="absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full shadow hover:bg-white md:opacity-0 group-hover:opacity-100 transition z-10 cursor-pointer">
                    <i data-lucide="chevron-right" class="w-5 h-5"></i>
                </button>
                
                <span id="discount-badge" class="absolute top-4 left-4 bg-red-600 text-white text-xs font-bold px-3 py-1 rounded shadow">
                    ${PRODUCT.discount}% OFF
                </span>
            `;
            
            mainImgContainer.className = "relative h-[350px] md:h-[650px] w-full bg-gray-100 rounded-lg overflow-hidden group border border-gray-200";
            
            lucide.createIcons();

            const thumbContainer = document.getElementById('thumbnail-container');
            thumbContainer.innerHTML = PRODUCT.images.map((img, idx) => {
                const isThumbVideo = img.toLowerCase().endsWith('.mp4');
                const thumbContent = isThumbVideo 
                    ? `<video src="${img}" class="w-full h-full object-cover" muted></video>`
                    : `<img src="${img}" class="w-full h-full object-cover" alt="Thumb ${idx}">`;

                return `
                <button onclick="setImage(${idx})" class="relative w-20 h-20 flex-shrink-0 rounded-md overflow-hidden border-2 transition ${state.selectedImageIndex === idx ? 'border-red-600' : 'border-transparent hover:border-gray-300'}">
                    ${thumbContent}
                </button>
                `;
            }).join('');
        }

        function renderVariations() {
            const colorContainer = document.getElementById('color-options');
            document.getElementById('selected-color-text').textContent = state.selectedColors.join(', ');
            document.getElementById('max-color-count').textContent = state.quantity;

            colorContainer.innerHTML = PRODUCT.variations.colors.map(color => {
                const isSelected = state.selectedColors.includes(color);
                return `
                <button onclick="selectColor('${color}')" class="px-4 py-2 border rounded text-sm transition ${
                    isSelected 
                    ? 'border-red-600 bg-red-50 text-red-700 font-bold' 
                    : 'border-gray-200 text-gray-600 hover:border-gray-400'
                }">
                    ${color} ${isSelected ? '<i data-lucide="check" class="inline w-3 h-3 ml-1"></i>' : ''}
                </button>
            `}).join('');
            
            const strapContainer = document.getElementById('strap-options');
            strapContainer.innerHTML = PRODUCT.variations.straps.map(strap => `
                <button onclick="selectStrap('${strap}')" class="px-4 py-2 border rounded text-sm transition ${state.selectedStrap === strap ? 'border-red-600 bg-red-50 text-red-700 font-bold' : 'border-gray-200 text-gray-600 hover:border-gray-400'}">${strap}</button>
            `).join('');
            lucide.createIcons();
        }

        function renderFAQ() {
            const container = document.getElementById('faq-container');
            container.innerHTML = PRODUCT.faqs.map((faq, idx) => `
                <div class="border border-gray-200 rounded-lg">
                    <button onclick="toggleFAQ(${idx})" class="w-full flex justify-between items-center p-4 text-left font-medium hover:bg-gray-50 transition">
                        ${faq.q} <i data-lucide="${state.openFaqIndex === idx ? 'chevron-up' : 'chevron-down'}" class="w-4 h-4"></i>
                    </button>
                    <div class="p-4 pt-0 text-sm text-gray-600 bg-gray-50 border-t border-gray-100 ${state.openFaqIndex === idx ? 'block' : 'hidden'}">${faq.a}</div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function openWhatsApp() {
            const url = "https://wa.me/message/7YUFR4BGFOECO1";
            window.open(url, '_blank');
        }

        function setImage(index) { state.selectedImageIndex = index; renderImages(); }
        function changeImage(direction) {
            state.selectedImageIndex = direction === 'next' 
                ? (state.selectedImageIndex < PRODUCT.images.length - 1 ? state.selectedImageIndex + 1 : 0)
                : (state.selectedImageIndex > 0 ? state.selectedImageIndex - 1 : PRODUCT.images.length - 1);
            renderImages();
        }
        
        function updateQuantity(type) {
            if (type === 'inc') {
                state.quantity++;
            }
            if (type === 'dec' && state.quantity > 1) {
                state.quantity--;
                if (state.selectedColors.length > state.quantity) {
                    state.selectedColors = state.selectedColors.slice(0, state.quantity);
                }
            }
            document.getElementById('quantity-display').textContent = state.quantity;
            renderVariations(); 
        }

        function selectColor(color) {
            const index = state.selectedColors.indexOf(color);
            
            if (state.quantity === 1) {
                state.selectedColors = [color];
            } else {
                if (index > -1) {
                    if (state.selectedColors.length > 1) {
                        state.selectedColors.splice(index, 1);
                    }
                } else {
                    if (state.selectedColors.length < state.quantity) {
                        state.selectedColors.push(color);
                    } else {
                        // Custom message instead of alert
                        const msg = document.createElement('div');
                        msg.className = "fixed top-5 left-1/2 -translate-x-1/2 bg-gray-800 text-white px-6 py-3 rounded-lg shadow-2xl z-[100] text-sm font-bold animate-bounce";
                        msg.textContent = `You can only select ${state.quantity} colors for ${state.quantity} items.`;
                        document.body.appendChild(msg);
                        setTimeout(() => msg.remove(), 3000);
                    }
                }
            }
            renderVariations();
        }

        function selectStrap(strap) { state.selectedStrap = strap; renderVariations(); }
        function toggleFAQ(index) { state.openFaqIndex = state.openFaqIndex === index ? null : index; renderFAQ(); }

    </script>
</body>
</html>